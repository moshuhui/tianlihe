var _LT_ezm_buttonImg=["http://api.51ditu.com/img/ezmarker/button-n.gif","http://api.51ditu.com/img/ezmarker/button-f.gif"];var _LT_ezm_imgPath="http://api.51ditu.com/img/ezmarker/";var _LT_ezm_helpUrl="http://api.51ditu.com/docs/ezmarkerapi.html";if(!window.LTEvent||!(document.all?(document.readyState!="loading"&&document.readyState!="interactive"):(window.LTEvent.readyState=="complete"))){document.writeln('<script language="javascript" src="http://api.51ditu.com/js/mapextend.js"></script>');document.writeln('<script language="javascript" src="http://api.51ditu.com/img/mapextend/skin/collapse/skin.js" charset="gb2312"></script>');};function LTNS(){LTNS.info={time:'Thu Jul 19 10:00:21 UTC+0800 2012',version:'1',ov:'1.3 Ver 20070705'};var w=function(g){var h=0,j=0;var k=g.length;var l=new String();var z=-1;var x=0;for(var c=0;c<k;c++){var v=g.charCodeAt(c);v=(v==95)?63:((v==44)?62:((v>=97)?(v-61):((v>=65)?(v-55):(v-48))));j=(j<<6)+v;h+=6;while(h>=8){var b=j>>(h-8);if(x>0){z=(z<<6)+(b&(0x3f));x--;if(x==0){l+=String.fromCharCode(z);};}else{if(b>=224){z=b&(0xf);x=2;}else if(b>=128){z=b&(0x1f);x=1;}else{l+=String.fromCharCode(b);};};j=j-(b<<(h-8));h-=8;};};return l;};var q=["mousemove","14px","6px","openhand.cur","default","1px","max.gif","3px","solid 1px #7C8EA4","12px","px","url(","25px","10px","mousedown","marker-f.gif","resize","close","object","number","mouseup","mouseover","mouseout","marker-n.gif","img",'relative','absolute',"div","none","","0px","hand","click",'<input name="'];var i=window;var o=document;function p(a){return a.style;};function f(g,h){for(var j in h){g[j]=h[j];};}function s(f,g,h){var e=this;e.name=f;e.type=g?g:0;e.saveConfirmMsg=w("vfYlvP2cvB,TvQsOwA,bvBsDvxskxxoV");e.defaultPoint=new LTPoint(10434857,3377254);e.imgPath=i._LT_ezm_imgPath;e._showPlaceList=true;e._showSearch=true;o.write(q[33]+e.name+'.x" id="'+f+'_x" style="display:none;"/>');e.inputX=o.getElementById(e.name+"_x");o.write(q[33]+e.name+'.y" id="'+f+'_y" style="display:none;"/>');e.inputY=o.getElementById(e.name+"_y");o.write(q[33]+e.name+'.z" id="'+f+'_z" style="display:none;"/>');e.inputZ=o.getElementById(e.name+"_z");if(e.type==0){o.write('<img id="'+e.name+'_button"/>');e.button=o.getElementById(e.name+"_button");e.setButtonImage(i._LT_ezm_buttonImg);LTEvent.bind(e.button,q[32],e,e.showMap);LTFunction.setCursorStyle(e.button,q[31]);}else if(e.type==1){if(!h){o.write('<div id="'+f+'_div"/>');h=o.getElementById(e.name+"_div");p(h).left=q[30];p(h).top=q[30];};e.container=h;e.showMap();};e.icon=new LTIcon(e.imgPath+"tack.gif",[78,39]);};f(s.prototype,{setIcon:function(f){var e=this;e.icon=f;if(e.markControl){e.markControl.setIcon(f);};if(e.marker){e.marker.setIcon(f);};},showButton:function(f){var e=this;p(e.button).display=f?q[29]:q[28];},showMap:function(){var e=this;switch(e.type){case 0:if(!e.win){e.container=o.createElement(q[27]);o.body.insertBefore(e.container,o.body.firstChild);p(e.container).position=q[26];p(e.container).zIndex=99999;e.createWin({canResize:1,canClose:1,drawZoom:0.7,minSize:[450,360]});}else{p(e.container).display=q[29];e.win.setContainerZoom();};break;case 1:p(e.container).position=q[25];p(e.container).zIndex=1;var f=LTMaps.prototype.getContainerSize.apply(e);e.createWin({canResize:0,canClose:0,drawSize:f,minSize:[450,360]});break;};if(e.point){e.setMarker(e.point);};LTEvent.trigger(e,"open",[]);},createWin:function(f){var e=this;e.win=new d(e.container,f);e.win.setTitle(w("CIxfW8dcYwdalOtdlQuWBJuWCYxce8VciwZalOtdlQuWBJuWCoxalvtbhPZalOtdlQu"));e.markerButton=e.win.doc.createElement(q[24]);e.markerButton.src=e.imgPath+q[23];var g=p(e.markerButton);g.position=q[25];g.width="176px";g.height="36px";g.top="4px";LTFunction.setCursorStyle(e.markerButton,q[31]);e.win.bottomDiv.align="center";e.win.bottomDiv.appendChild(e.markerButton);LTEvent.bind(e.markerButton,q[32],e,e.markerPoint);LTEvent.bind(e.markerButton,q[22],e,e.setMarkButtonNormal);LTEvent.bind(e.markerButton,q[21],e,e.setMarkButtonFocus);e.map=new LTMaps(e.win.mapsDiv);e.map.handleMouseScroll();e.mapControl=new LTStandMapControl(e.win.size[1]>400);e.map.addControl(e.mapControl);e.markControl=new LTMarkControl(e.icon);e.markControl.setVisible(false);LTEvent.bind(e.markControl,q[20],e,e.setMarkPoint);e.map.addControl(e.markControl);var h,j;if(e.point){h=e.point;};if(typeof(e.zoom)==q[19]){j=e.zoom;};if(!h&&e.defaultPoint){h=e.defaultPoint;};if(typeof(j)!=q[19]&&typeof(e.defaultZoom)==q[19]){j=e.defaultZoom;};if(h&&typeof(j)==q[19]){h=(typeof(h)!=q[18]&&LTPlaceList)?LTPlaceList.getDefault().getPoint(h):h;e.map.centerAndZoom(h,j);}else if(!e.map.loaded){e.map.centerAndZoom(e.defaultPoint,12);};e.closeListener=LTEvent.bind(e.win,q[17],e,e.onWinClose);LTEvent.bind(e.win,q[16],e,e.resetMapSize);LTExtendMapDiv.getDefault(e.map).showPointInfo=false;e.setPlaceList(e._showPlaceList);e.setSearch(e._showSearch,e._searchCity);},setMarkButtonNormal:function(){var e=this;e.markerButton.src=e.imgPath+q[23];},setMarkButtonFocus:function(){var e=this;e.markerButton.src=e.imgPath+q[15];},markerPoint:function(){var e=this;if(e.marking){e.marking=false;e.markerButton.src=e.imgPath+q[23];e.markControl.depose();}else{e.marking=true;e.markerButton.src=e.imgPath+q[15];e.markControl.btnClick();if(e.markControl.flag==true){e.markerPoint();};};},setMarkPoint:function(f){var e=this;if(i.confirm(e.saveConfirmMsg)){e.point=f;e.zoom=e.map.getCurrentZoom();e.inputX.value=f.getLongitude();e.inputY.value=f.getLatitude();e.inputZ.value=e.zoom;e.close();e.setMarkButtonNormal();LTEvent.trigger(e,"mark",[e.point,e.zoom]);e.marking=false;}else{e.markerPoint();};},resetMapSize:function(f){var e=this;if(!e.map){return;};e.map.resizeMapDiv();if(e.mapControl.showZoom&&f[1]<400){e.map.removeControl(e.mapControl);e.mapControl=new LTStandMapControl(false);e.map.addControl(e.mapControl);};if(!e.mapControl.showZoom&&f[1]>400){e.map.removeControl(e.mapControl);e.mapControl=new LTStandMapControl(true);e.map.addControl(e.mapControl);};},setDefaultView:function(f,g){var e=this;f=(typeof(f)!=q[18]&&LTPlaceList)?LTPlaceList.getDefault().getPoint(f):f;e.defaultPoint=f;e.defaultZoom=g;if(e.map){e.map.centerAndZoom(f,g);};},setValue:function(f,g){var e=this;f=(typeof(f)!=q[18]&&LTPlaceList)?LTPlaceList.getDefault().getPoint(f):f;e.point=f;e.zoom=g;e.inputX.value=f.getLongitude();e.inputY.value=f.getLatitude();e.inputZ.value=g;if(e.map){e.map.centerAndZoom(f,g);e.setMarker(e.point);};},setButtonImage:function(f){var e=this;if(!(e.type==0)){return;};e.buttonNImage=f[0]?f[0]:f;e.buttonFImage=f[1]?f[1]:null;if(e.buttonFImage&&!e.bmoverl){e.bmoverl=LTEvent.bind(e.button,q[21],e,e.buttonFocus);e.bmoutl=LTEvent.bind(e.button,q[22],e,e.buttonNormal);};if(!e.buttonFImage&&e.bmoverl){LTEvent.removeListener(e.bmoverl);LTEvent.removeListener(e.bmoutl);};e.button.src=e.buttonNImage;},buttonFocus:function(){var e=this;if(!(e.type==0)){return;};e.button.src=e.buttonFImage;},buttonNormal:function(){var e=this;if(!(e.type==0)){return;};e.button.src=e.buttonNImage;},setWinZIndex:function(f){var e=this;e.winZIndex=f;if(e.container){p(e.container).zIndex=e.winZIndex;};},clearMarker:function(f){var e=this;if(e.marker){e.map.removeOverLay(e.marker);e.marker=null;};},setMarker:function(f){var e=this;e.clearMarker();e.marker=new LTMarker(f,e.icon);e.map.addOverLay(e.marker);},onWinClose:function(){var e=this;if(e.type!=0){return;};{e.clearMarker();};LTEvent.trigger(e,q[17],[]);},setPlaceList:function(f){var e=this;e._showPlaceList=f;if(!e.map){return;};if(f&&!e.placeList){e.placeList=new LTPlaceListControl();e.map.addControl(e.placeList);};if(!f&&e.placeList){e.map.removeControl(e.placeList);e.placeList=null;};},setSearch:function(f,g){var e=this;e._showSearch=f;e._searchCity=g;if(!e.map){return;};if(f){if(!e.search){e.search=new LTSearchControl(e._searchCity);LTEvent.bind(e.search,"markerclick",e,e.onSearchMarkerClick);e.map.addControl(e.search);}else if(g){e.search.setCity(g);};};if(!f&&e.search){e.map.removeControl(e.search);e.search=null;};},maxSize:function(){var e=this;if(e.win){e.win.maxSize();};},onSearchMarkerClick:function(f){var e=this;if(!e.marking){e.map.zoomTo(0);e.map.moveToCenter(f.point);};},close:function(){var e=this;e.clearMarker();if(e.type==1){return;};if(e.marking){e.markerPoint();};e.markControl.depose();e.win.close();}});function d(f,g){var e=this;e.drawZoom=g.drawZoom?g.drawZoom:0.7;e.container=f;e.config=g?g:{};e.doc=e.container.ownerDocument?e.container.ownerDocument:o;e.tpbNum=0;e.imgPath=i._LT_ezm_imgPath;LTFunction.setUnSelectable(e.container);e.container.onselectstart=LTFunction.falseFunction;LTEvent.addListener(e.container,q[14],LTEvent.cancelBubble);var h=e.doc.createElement(q[24]);h.src=e.imgPath+"leftTop.gif";var j=p(h);j.position=q[26];j.left=q[30];j.top=q[30];j.width=q[13];j.height=q[12];e.container.appendChild(h);var h=e.doc.createElement(q[24]);h.src=e.imgPath+"rightTop.gif";var j=p(h);j.position=q[26];j.right=q[30];j.top=q[30];j.width=q[13];j.height=q[12];e.container.appendChild(h);e.topDiv=e.doc.createElement(q[27]);var j=p(e.topDiv);j.backgroundImage=q[11]+e.imgPath+"top.gif)";j.position=q[26];j.left=q[13];j.top=q[30];j.height=q[12];e.container.appendChild(e.topDiv);var h=e.doc.createElement(q[24]);h.src=e.imgPath+"ezmarker.gif";var j=p(h);j.position=q[26];j.left=q[30];j.top="5px";j.width="60px";j.height="17px";e.topDiv.appendChild(h);var k=o.createElement("span");var j=p(k);j.position=q[26];j.left=(parseInt(p(h).left)+parseInt(p(h).width)+10)+q[10];j.top="8px";j.fontSize=q[9];j.color="#D31205";k.innerHTML=w("TtTtBZKnP6bqTIvZRsq");e.topDiv.appendChild(k);e.titleDiv=k;e.contentDiv=e.doc.createElement(q[27]);var j=p(e.contentDiv);j.position=q[26];j.left=q[30];j.top=q[12];j.backgroundColor="#FFFFFF";j.border=q[8];e.container.appendChild(e.contentDiv);e.bottomDiv=e.doc.createElement(q[27]);var j=p(e.bottomDiv);j.backgroundImage=q[11]+e.imgPath+"bottom.gif)";j.position=q[26];j.left=q[30];j.bottom=q[30];j.height="40px";e.contentDiv.appendChild(e.bottomDiv);e.mapsDiv=e.doc.createElement(q[27]);var j=p(e.mapsDiv);j.position=q[26];j.left=q[7];j.top=q[7];j.border=q[8];j.zIndex=100;e.contentDiv.appendChild(e.mapsDiv);if(e.config.canClose){var l=e.createLTButton(e.imgPath+"close.gif");LTEvent.bind(l,q[32],e,e.close);};if(e.config.canResize){e.maxButton=e.createLTButton(e.imgPath+q[6]);LTEvent.bind(e.maxButton,q[32],e,e.maxSize);LTEvent.bind(e.topDiv,"dblclick",e,e.maxSize);var z=o.createElement(q[24]);var j=p(z);j.position=q[26];j.right=q[5];j.bottom=q[5];j.width=q[9];j.height=q[9];LTFunction.setCursorStyle(z,"NW-resize");z.src=e.imgPath+"resize.gif";LTEvent.bind(z,q[14],e,e.onResizeMouseDown);e.bottomDiv.appendChild(z);LTEvent.bind(e.topDiv,q[14],e,e.onTitleMouseDown);LTEvent.bind(e.bottomDiv,q[14],e,e.onTitleMouseDown);LTFunction.setCursorStyle(e.topDiv,q[4],q[3]);};e.size=e.config.size;if(!e.size&&e.config.drawZoom){e.setContainerZoom(e.drawZoom);};if(!e.size)e.size=LTMaps.prototype.getContainerSize.apply(e);e.checkSize();e.setContainerSize(e.size);e.init=true;e.resizeListener=LTEvent.bind(i,q[16],e,e.onWindowResize);};f(d.prototype,{setContainerSize:function(f,g){var e=this;e.size=f;e.checkSize();var h=p(e.container);h.width=e.size[0]+q[10];h.height=e.size[1]+q[10];p(e.topDiv).width=(e.size[0]-20)+q[10];p(e.mapsDiv).height=(e.size[1]-65)+q[10];p(e.contentDiv).height=(e.size[1]-25)+q[10];if(LTBrowserInfo.isIE()){p(e.bottomDiv).width=(e.size[0]-2)+q[10];p(e.contentDiv).width=(e.size[0])+q[10];p(e.mapsDiv).width=(e.size[0]-8)+q[10];}else{p(e.bottomDiv).width=(e.size[0]-4)+q[10];p(e.contentDiv).width=(e.size[0]-3)+q[10];p(e.mapsDiv).width=(e.size[0]-11)+q[10];};if(!g){LTEvent.trigger(e,q[16],[e.size]);};},createLTButton:function(f){var e=this;var g=e.doc.createElement(q[24]);g.src=f;var h=p(g);h.position=q[26];h.right=(e.tpbNum++)*20+q[10];h.top=q[2];h.width=q[1];h.height=q[1];LTFunction.setCursorStyle(g,q[31]);e.topDiv.appendChild(g);return g;},createLTLink:function(f,g){var e=this;var h=e.doc.createElement("a");h.target="_blank";h.href=g;var j=e.doc.createElement(q[24]);j.src=f;var k=p(j);k.position=q[26];k.border=q[30];k.right=(e.tpbNum++)*20+q[10];k.top=q[2];k.width=q[1];k.height=q[1];h.appendChild(j);e.topDiv.appendChild(h);},close:function(){var e=this;LTEvent.trigger(e,q[17],[]);p(e.container).display=q[28];},maxSize:function(){var e=this;if(e.drawZoom==1){e.setContainerZoom(0.7);e.maxButton.src=e.imgPath+q[6];}else{e.setContainerZoom(1);e.maxButton.src=e.imgPath+"max-f.gif";};},onWindowResize:function(){var e=this;if(e.config.canResize){p(e.container).zIndex=99999;e.setContainerZoom(e.drawZoom);};},setContainerZoom:function(f){var e=this;e.drawZoom=f?f:0.7;if(o.lastChild.clientWidth==0&&o.lastChild.clientHeight==0){e.size=[o.body.clientWidth*e.drawZoom,o.body.clientHeight*e.drawZoom];e.checkSize();p(e.container).width=e.size[0]+q[10];p(e.container).height=e.size[1]+q[10];e.setContainerSize(e.size);p(e.container).left=((o.body.clientWidth-e.size[0])/2+o.body.scrollLeft)+q[10];p(e.container).top=((o.body.clientHeight-e.size[1])/2+o.body.scrollTop)+q[10];}else{e.size=[o.lastChild.clientWidth*e.drawZoom,o.lastChild.clientHeight*e.drawZoom];e.checkSize();p(e.container).width=e.size[0]+q[10];p(e.container).height=e.size[1]+q[10];e.setContainerSize(e.size);p(e.container).left=((o.lastChild.clientWidth-e.size[0])/2+o.lastChild.scrollLeft)+q[10];p(e.container).top=((o.lastChild.clientHeight-e.size[1])/2+o.lastChild.scrollTop)+q[10];};},setTitle:function(f){var e=this;e.titleDiv.innerHTML=f;},checkSize:function(f){var e=this;if(!e.config.minSize){return;};if(e.size[0]<e.config.minSize[0]){e.size[0]=e.config.minSize[0];};if(e.size[1]<e.config.minSize[1]){e.size[1]=e.config.minSize[1];};},onTitleMouseDown:function(f){var e=this;LTEvent.cancelBubble(f);e.tmml=LTEvent.bind(o,q[0],e,e.onTitleMouseMove);e.tmul=LTEvent.bind(o,q[20],e,e.onTitleMouseUp);e.draggingPoint=[parseInt(p(e.container).left)-f.clientX,parseInt(p(e.container).top)-f.clientY];LTFunction.setCursorStyle(e.topDiv,"move","closedhand.cur");e.enableDrag=true;e.isDragging=true;},onTitleMouseMove:function(f){var e=this;LTEvent.cancelBubble(f);if(e.enableDrag&&e.isDragging){e.enableDrag=false;i.setTimeout(LTEvent.getCallback(e,function(){var e=this;if(e.isDragging){e.enableDrag=true;}}),30);p(e.container).left=e.draggingPoint[0]+f.clientX+q[10];p(e.container).top=e.draggingPoint[1]+f.clientY+q[10];};},onTitleMouseUp:function(f){var e=this;LTEvent.removeListener(e.tmml);LTEvent.removeListener(e.tmul);LTFunction.setCursorStyle(e.topDiv,q[4],q[3]);e.enableDrag=false;e.isDragging=false;},onResizeMouseDown:function(f){var e=this;LTEvent.cancelBubble(f);e.rmml=LTEvent.bind(o,q[0],e,e.onResizeMouseMove);e.rmul=LTEvent.bind(o,q[20],e,e.onResizeMouseUp);e.draggingPoint=[e.size[0]-f.clientX,e.size[1]-f.clientY];e.enableResize=true;e.isResizing=true;},onResizeMouseMove:function(f){var e=this;LTEvent.cancelBubble(f);if(e.enableResize&&e.isResizing){e.enableResize=false;i.setTimeout(LTEvent.getCallback(e,function(){var e=this;if(e.isResizing){e.enableResize=true;}}),30);e.setContainerSize([e.draggingPoint[0]+f.clientX,e.draggingPoint[1]+f.clientY],true);};},onResizeMouseUp:function(f){var e=this;LTEvent.removeListener(e.rmml);LTEvent.removeListener(e.rmul);e.setContainerSize([e.draggingPoint[0]+f.clientX,e.draggingPoint[1]+f.clientY]);e.enableResize=false;e.isResizing=false;}});var a=function(s){var d=o.getElementsByTagName(w("SsDoQN1q"));var f=new RegExp(s,"i");for(var g=0;g<d.length;g++){var h=d[g];if(h.src&&f.test(h.src)){break;};};return!o.all||g<d.length;};if(!a(w("NbnpAYXeT7HmA3ywSoa_EYylAJyeFpfRN7TTArmkAIerCMHfT7LSBcDlRIzgSozbUcrXScjbSbmkQdDSSoea")))return false;f(i,{LTEZMarker:s,LTEZMarkerWin:d})};LTNS();
